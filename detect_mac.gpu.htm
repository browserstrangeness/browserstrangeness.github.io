<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
  
<style type="text/css">
  
  .m1_detection_base { background-color:#fff; color:#ccc; }
  .not_chrome_with_m1_base { background-color:#800; color:#fff; }
  
  .m1_detected  { background-color:#800; color:#fff; }
  .m1_not_detected { background-color:#fff; color:#ccc; }
  
</style>
  
<script language="javascript" type="text/javascript">
  
var canvas_find_gpu = document.createElement('canvas');
var gl_find_gpu;
var debugInfo_find_gpu;
var vendor_find_gpu;
var renderer_find_gpu;
var m1_gpu_detected = false;

try {
  gl_find_gpu = canvas_find_gpu.getContext('webgl') || canvas_find_gpu.getContext('experimental-webgl');
} catch (e) {
}

if (gl_find_gpu) { // multiple methods of searching for gpu information
  debugInfo_find_gpu = gl_find_gpu.getExtension('WEBGL_debug_renderer_info');
  vendor_find_gpu = gl_find_gpu.getParameter(debugInfo_find_gpu.UNMASKED_VENDOR_WEBGL);
  renderer_find_gpu = gl_find_gpu.getParameter(debugInfo_find_gpu.UNMASKED_RENDERER_WEBGL);
}

if (renderer_find_gpu=='Apple M1') {
  m1_gpu_detected = true;
}
  
</script>
</head>
<body>
  
<div>Google Chrome reports the Apple M1 GPU if found. Other browsers just report: Apple GPU (same as on MacIntel based machines)</div>  
<div>If the M1 GPU is detected in Google Chrome it will turn red. Otherwise it will report in red that this is not Chrome detecting an M1 GPU.</div> 

<br />

<div class="m1_detection_base" id="m1_detection_check">Apple M1 Mac GPU Detected on Chrome Browser</div>

<div class="not_chrome_with_m1_base" id="m1_nondetection_check">Not Apple M1 or Not Chrome Browser</div>

<script language="javascript" type="text/javascript">
  
  if (m1_gpu_detected)
  {
    document.getElementById("m1_detection_check").classList.add("m1_detected"); // add class to div
    document.getElementById("m1_nondetection_check").classList.add("m1_not_detected"); // add class to div
  }
  
</script>
  
<br />
 
<div>GPU Detection Source: <a href='https://gist.github.com/cvan/042b2448fcecefafbb6a91469484cdf8#file-webgl-detect-gpu-js' target='_blank'>https://gist.github.com/cvan/042b2448fcecefafbb6a91469484cdf8#file-webgl-detect-gpu-js</a></div>
 
<br />
 
<div>Class injection test by Jeff Clayton</div> 
 
<br />
 
<div>Test Site 1: <a href='https://browserstrangeness.github.io/' target='_blank'>https://browserstrangeness.github.io</a></div>
 
<div>Test Site 2: <a href='https://browserstrangeness.bitbucket.io/' target='_blank'>https://browserstrangeness.bitbucket.io</a></div>

<br />
  
</body>
</html>
