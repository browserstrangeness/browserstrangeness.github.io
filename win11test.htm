<!doctype html>
<html>
<head>

<style type="">
 
 .win10 {
  color: #008;
 }
 
 .win11 {
  color:#800;
 }
 
</style>
 
<script language="javascript" type="text/javascript">
 var divID = 'WinType', windetxt = '---';
</script>

<script language="javascript" type="text/javascript">

// win11 detection in edge/chrome/opera (not supported in firefox)
 
 navigator.userAgentData.getHighEntropyValues(["platformVersion"])
 .then(ua => {
   if (navigator.userAgentData.platform === "Windows") {
     const majorPlatformVersion = parseInt(ua.platformVersion.split('.')[0]);
     if (majorPlatformVersion >= 13) { // works in chrome-edge, chrome, 
        windetxt = "Windows 11+";
        console.log(windetxt);
        document.getElementById("WinType").classList.add("win11");
      }
      else if (majorPlatformVersion > 0) {
        windetxt = 'Windows 10';
        console.log(windetxt);
        document.getElementById("WinType").classList.add("win10");
      }
      else {
        windetxt = 'Before Windows 10';
        console.log(windetxt);
      }
   }
   else {
        windetxt = 'Not running on Windows';
        console.log(windetxt);
   }
   
 }); /**/
 

function docLoaded()
{
 console.log('docLoaded'+windetxt);
 document.getElementById('WinType').innerHTML=windetxt;
 //alert("windows version: "+windetxt);
}  
 
window.addEventListener('load', (event) => {
  docLoaded();
});
 
</script>

</head>
<body>

<div id='WinType'>This is a test</div> 
 
</body>
</html>
