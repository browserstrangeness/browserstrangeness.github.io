<!doctype html>
<html>
<head>

<style type="text/css">
 
 .win10testbase { color:#ccc; }
 .win11testbase { color:#ccc; }
 
 .win10 { background-color: #800; color:#fff; }
 .win11 { background-color: #800; color:#fff; }
 
</style>
 
<script language="javascript" type="text/javascript">

// win11 detection in edge/chrome/opera (not supported in firefox)
 
 var divID = 'WinType', windetxt = '---';
 
 navigator.userAgentData.getHighEntropyValues(["platformVersion"])
 .then(ua => {
   if (navigator.userAgentData.platform === "Windows") {
     const majorPlatformVersion = parseInt(ua.platformVersion.split('.')[0]);
     if (majorPlatformVersion >= 13) { // works in chrome-edge, chrome, 
        windetxt = "Windows 11+"; console.log(windetxt);
        document.getElementById("win11test").classList.add("win11");
      }
      else if (majorPlatformVersion > 0) {
        windetxt = 'Windows 10'; console.log(windetxt);
        document.getElementById("win10test").classList.add("win10");
      }
      else {
        windetxt = 'Before Windows 10'; console.log(windetxt);
      }
   }
   else {
        windetxt = 'Not running on Windows'; console.log(windetxt);
   }
   
 });

function docLoaded() {
 console.log('docLoaded'+windetxt);
 document.getElementById('WinType').innerHTML=windetxt;
}  
 
window.addEventListener('load', (event) => {
  docLoaded();
});
 
</script>

</head>
<body>

<div>If one of these versions of Windoes is detected in Edge 94+/Chrome 95+, or matching versions of Opera it will turn red.</div> 
 
<br />
 
<div class='win10testbase' id='win10test'>Windows 10</div> 
 
<div class='win11testbase' id='win11test'>Windows 11</div> 
 
</body>
</html>
